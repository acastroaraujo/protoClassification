<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Compositional Effects ‚Ä¢ protoClassification</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compositional Effects">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">protoClassification</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/CompositionalEffects.html">Compositional Effects</a></li>
    <li><a class="dropdown-item" href="../articles/Correlations.html">Correlations</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/acastroaraujo/protoClassification/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compositional Effects</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/acastroaraujo/protoClassification/blob/main/vignettes/articles/CompositionalEffects.Rmd" class="external-link"><code>vignettes/articles/CompositionalEffects.Rmd</code></a></small>
      <div class="d-none name"><code>CompositionalEffects.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/acastroaraujo/protoClassification" class="external-link">protoClassification</a></span><span class="op">)</span></span></code></pre></div>
<p>Our main goal is to compare different probabilities across different
parameters values. In particular, we can measure the ‚Äúcompositional
effects‚Äù that result from different parameter values by keeping track of
these conditional probabilities:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>Pr</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>ùê±</mi><mo>‚à£</mo><mi>C</mi><mo>,</mo><mi>Œ©</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\Pr(\mathbf{x} \mid C, \Omega)</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ©</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math>
is a short-hand way of referring to all parameters in the prototype
model.</p>
<p>Here I provide a few examples.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">9</span><span class="op">)</span></span>
<span><span class="co"># Basic Workflow ----</span></span>
<span></span>
<span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fl">1e3</span></span>
<span></span>
<span><span class="co"># Data ----</span></span>
<span></span>
<span><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html" class="external-link">rbeta</a></span><span class="op">(</span><span class="va">K</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">rho</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlkjcorr.html">rlkjcorr</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">K</span>, eta <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_binary_data.html">make_binary_data</a></span><span class="op">(</span><span class="va">mu</span>, <span class="va">rho</span>, <span class="va">obs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Prototype Parameters ----</span></span>
<span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">K</span><span class="op">)</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="va">w</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">w</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prototypes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  P1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">K</span><span class="op">)</span>,</span>
<span>  P2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">K</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute ----</span></span>
<span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute.html">compute</a></span><span class="op">(</span><span class="va">sim_data</span>, <span class="va">prototypes</span>, <span class="va">w</span>, <span class="va">g</span><span class="op">)</span></span>
<span><span class="va">probs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">out</span>, s <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span></span></code></pre></div>
<p><strong>Changing</strong>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≥</mi><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This should make the second category more inclusive</span></span>
<span><span class="va">new_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute.html">compute</a></span><span class="op">(</span><span class="va">sim_data</span>, <span class="va">prototypes</span>, <span class="va">w</span>, g <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">new_probs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">new_out</span>, s <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span></span></code></pre></div>
<p>This should increase the marginal probabilities of the second
category.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">probs</span><span class="op">$</span><span class="va">marginal</span><span class="op">$</span><span class="va">categories</span></span>
<span><span class="co">#&gt;        C1        C2 </span></span>
<span><span class="co">#&gt; 0.3467094 0.6532906</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">marginal</span><span class="op">$</span><span class="va">categories</span></span>
<span><span class="co">#&gt;        C1        C2 </span></span>
<span><span class="co">#&gt; 0.1272612 0.8727388</span></span></code></pre></div>
<p>And these are the compositional effects:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1        x2        x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.5728644 0.5546241 0.4564499 0.5167535 0.8871769 0.3245671 0.8346980</span></span>
<span><span class="co">#&gt; C2 0.1476666 0.1344176 0.4190103 0.4130322 0.5257202 0.1370018 0.8030352</span></span>
<span><span class="co">#&gt;           x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 0.5830473 0.3673473 0.4692927</span></span>
<span><span class="co">#&gt; C2 0.4483320 0.4632084 0.3647565</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1        x2        x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.6926339 0.7162739 0.4362536 0.5256324 0.9326090 0.3853025 0.8662932</span></span>
<span><span class="co">#&gt; C2 0.2370709 0.2164392 0.4313787 0.4378470 0.6099313 0.1753121 0.8064060</span></span>
<span><span class="co">#&gt;           x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 0.6368593 0.3008669 0.4785071</span></span>
<span><span class="co">#&gt; C2 0.4743415 0.4487705 0.3897002</span></span>
<span></span>
<span><span class="co"># diff-in-prob</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span> <span class="op">-</span> <span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;            x1         x2          x3          x4         x5         x6</span></span>
<span><span class="co">#&gt; C1 0.11976955 0.16164978 -0.02019631 0.008878864 0.04543211 0.06073539</span></span>
<span><span class="co">#&gt; C2 0.08940431 0.08202158  0.01236839 0.024814811 0.08421110 0.03831033</span></span>
<span><span class="co">#&gt;             x7         x8          x9         x10</span></span>
<span><span class="co">#&gt; C1 0.031595164 0.05381202 -0.06648039 0.009214365</span></span>
<span><span class="co">#&gt; C2 0.003370833 0.02600956 -0.01443787 0.024943624</span></span>
<span><span class="co"># risk ratio</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span> <span class="op">/</span> <span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;          x1       x2        x3       x4       x5       x6       x7       x8</span></span>
<span><span class="co">#&gt; C1 1.209071 1.291458 0.9557535 1.017182 1.051210 1.187127 1.037852 1.092294</span></span>
<span><span class="co">#&gt; C2 1.605447 1.610200 1.0295181 1.060080 1.160182 1.279634 1.004198 1.058014</span></span>
<span><span class="co">#&gt;           x9      x10</span></span>
<span><span class="co">#&gt; C1 0.8190258 1.019635</span></span>
<span><span class="co">#&gt; C2 0.9688307 1.068384</span></span></code></pre></div>
<p><strong>Changing the ‚Äúattention weights‚Äù</strong></p>
<p>1st, we can make the attention weights more selective, meaning that
classification becomes more rule-like.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/temperature.html">temperature</a></span><span class="op">(</span><span class="va">w</span>, temp <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">4</span><span class="op">)</span> <span class="co"># cf. "temperature sampling"</span></span>
<span><span class="va">w</span> <span class="co">## original wegihts</span></span>
<span><span class="co">#&gt;  [1] 0.13533778 0.20026794 0.03932552 0.11255268 0.13975630 0.02127384</span></span>
<span><span class="co">#&gt;  [7] 0.03428940 0.17053500 0.02696937 0.11969217</span></span>
<span><span class="va">w2</span> <span class="co">## new weights</span></span>
<span><span class="co">#&gt;  [1] 9.472835e-02 4.542024e-01 6.753073e-04 4.531345e-02 1.077183e-01</span></span>
<span><span class="co">#&gt;  [6] 5.783456e-05 3.903401e-04 2.388129e-01 1.493781e-04 5.795177e-02</span></span>
<span></span>
<span><span class="va">new_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute.html">compute</a></span><span class="op">(</span><span class="va">sim_data</span>, <span class="va">prototypes</span>, w <span class="op">=</span> <span class="va">w2</span>, <span class="va">g</span><span class="op">)</span></span>
<span><span class="va">new_probs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">new_out</span>, s <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span></span></code></pre></div>
<p>The change in compositional effects should make it such that the new
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo>‚à£</mo><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">p(x_k \mid c)</annotation></semantics></math>
are very high when
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mi>k</mi></msub><annotation encoding="application/x-tex">x_k</annotation></semantics></math>
is highly weighted.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1        x2        x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.5728644 0.5546241 0.4564499 0.5167535 0.8871769 0.3245671 0.8346980</span></span>
<span><span class="co">#&gt; C2 0.1476666 0.1344176 0.4190103 0.4130322 0.5257202 0.1370018 0.8030352</span></span>
<span><span class="co">#&gt;           x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 0.5830473 0.3673473 0.4692927</span></span>
<span><span class="co">#&gt; C2 0.4483320 0.4632084 0.3647565</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1         x2        x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.4860178 0.86941998 0.3071452 0.3394442 0.7586206 0.2901795 0.9158345</span></span>
<span><span class="co">#&gt; C2 0.2139871 0.03015844 0.4849078 0.4954442 0.6053495 0.1646123 0.7708265</span></span>
<span><span class="co">#&gt;           x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 0.5976563 0.2572416 0.3823109</span></span>
<span><span class="co">#&gt; C2 0.4514389 0.5032435 0.4089434</span></span>
<span></span>
<span><span class="co"># diff-in-prob</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span> <span class="op">-</span> <span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;             x1         x2          x3          x4          x5          x6</span></span>
<span><span class="co">#&gt; C1 -0.08684659  0.3147958 -0.14930471 -0.17730924 -0.12855632 -0.03438758</span></span>
<span><span class="co">#&gt; C2  0.06632044 -0.1042591  0.06589754  0.08241196  0.07962923  0.02761056</span></span>
<span><span class="co">#&gt;             x7          x8         x9         x10</span></span>
<span><span class="co">#&gt; C1  0.08113647 0.014608959 -0.1101057 -0.08698181</span></span>
<span><span class="co">#&gt; C2 -0.03220874 0.003106965  0.0400351  0.04418685</span></span>
<span><span class="co"># risk ratio</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span> <span class="op">/</span> <span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1        x2        x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.8483994 1.5675841 0.6729001 0.6568785 0.8550951 0.8940509 1.0972046</span></span>
<span><span class="co">#&gt; C2 1.4491228 0.2243638 1.1572695 1.1995291 1.1514669 1.2015343 0.9598912</span></span>
<span><span class="co">#&gt;          x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 1.025056 0.7002682 0.8146534</span></span>
<span><span class="co">#&gt; C2 1.006930 1.0864300 1.1211407</span></span></code></pre></div>
<p>At the extreme, when attention is placed exclusively on one
feature.</p>
<p>We should expect
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo>‚à£</mo><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">p(x_k \mid c)</annotation></semantics></math>
to be 1.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="st">"double"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">w</span><span class="op">)</span><span class="op">)</span> <span class="co"># all attention on dimension 3</span></span>
<span><span class="va">w2</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">w2</span></span>
<span><span class="co">#&gt;  [1] 0 0 1 0 0 0 0 0 0 0</span></span>
<span></span>
<span><span class="va">new_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute.html">compute</a></span><span class="op">(</span><span class="va">sim_data</span>, <span class="va">prototypes</span>, w <span class="op">=</span> <span class="va">w2</span>, <span class="va">g</span><span class="op">)</span></span>
<span><span class="va">new_probs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">new_out</span>, s <span class="op">=</span> <span class="fl">1e3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1        x2           x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.4212941 0.1689949 9.999469e-01 0.5231397 0.6712993 0.2152812 0.7314927</span></span>
<span><span class="co">#&gt; C2 0.1989426 0.3644288 2.811951e-05 0.3926105 0.6355607 0.1918985 0.8767538</span></span>
<span><span class="co">#&gt;           x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 0.4097318 0.3888849 0.3842530</span></span>
<span><span class="co">#&gt; C2 0.5598537 0.4612716 0.4137375</span></span></code></pre></div>
<p>Furthermore, marginal probability of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>c</mi><mn>1</mn></msub><annotation encoding="application/x-tex">c_1</annotation></semantics></math>
should converge to the marginal probability of that feature with
exclusive attention.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_probs</span><span class="op">$</span><span class="va">marginal</span></span>
<span><span class="co">#&gt; $categories</span></span>
<span><span class="co">#&gt;        C1        C2 </span></span>
<span><span class="co">#&gt; 0.4320062 0.5679938 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $features</span></span>
<span><span class="co">#&gt;    x1    x2    x3    x4    x5    x6    x7    x8    x9   x10 </span></span>
<span><span class="co">#&gt; 0.295 0.280 0.432 0.449 0.651 0.202 0.814 0.495 0.430 0.401</span></span></code></pre></div>
<p>Compositional Effects:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># diff-in-prob</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span> <span class="op">-</span> <span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;             x1         x2         x3           x4         x5          x6</span></span>
<span><span class="co">#&gt; C1 -0.15157026 -0.3856292  0.5434970  0.006386203 -0.2158776 -0.10928584</span></span>
<span><span class="co">#&gt; C2  0.05127596  0.2300112 -0.4189822 -0.020421740  0.1098404  0.05489672</span></span>
<span><span class="co">#&gt;             x7         x8           x9         x10</span></span>
<span><span class="co">#&gt; C1 -0.10320531 -0.1733156  0.021537656 -0.08503970</span></span>
<span><span class="co">#&gt; C2  0.07371856  0.1115218 -0.001936813  0.04898097</span></span>
<span></span>
<span><span class="co"># risk ratio</span></span>
<span><span class="va">new_probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span> <span class="op">/</span> <span class="va">probs</span><span class="op">$</span><span class="va">conditional</span><span class="op">$</span><span class="va">features</span></span>
<span><span class="co">#&gt;           x1        x2           x3        x4        x5        x6        x7</span></span>
<span><span class="co">#&gt; C1 0.7354169 0.3047017 2.190705e+00 1.0123583 0.7566691 0.6632874 0.8763561</span></span>
<span><span class="co">#&gt; C2 1.3472414 2.7111691 6.710935e-05 0.9505565 1.2089333 1.4007008 1.0917999</span></span>
<span><span class="co">#&gt;           x8        x9       x10</span></span>
<span><span class="co">#&gt; C1 0.7027419 1.0586302 0.8187918</span></span>
<span><span class="co">#&gt; C2 1.2487482 0.9958187 1.1342840</span></span></code></pre></div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by andr√©s castro ara√∫jo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
